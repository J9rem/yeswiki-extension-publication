/**
 * Writing helpers
 */
.yeswiki-publication .hide-print,
.yeswiki-publication .hide-from-print,
.yeswiki-publication .no-print,
.yeswiki-publication .d-print-none {
  display: none;
}

.yeswiki-publication .print-only,
.yeswiki-publication .d-none.d-print-block {
  display: block;
  visibility: unset;
}

/* .yeswiki-publication  */.pagebreak,
/* .yeswiki-publication  */.page-break {
  break-after: page;
}
/* .yeswiki-publication  */hr.pagebreak,
/* .yeswiki-publication  */hr.page-break {
  border: none;
  height: 0;
  margin: 0;
  padding: 0;
}

/**
 * Page section definition
 */
/* .yeswiki-publication  */.publication-cover {
  page: publication-cover;
}

/* .yeswiki-publication  */div.include {
  break-before: always;
  page: publication-section;
}
  /* .yeswiki-publication  */div.include .include {
    break-before: auto;
    page: unset;
  }

/* .yeswiki-publication  */.blank-page {
  break-before: always;
  page: blank-page;
}

.blank-page {
  break-after: page;
}

.yeswiki-publication .publication-cover {
  display: flex;
  height: 100%;
  flex-direction: column;
  justify-content: center;
}

/**
 * Page formats definition
 */

@page {
  margin: 20mm 20mm;

  @footnote {
    margin: 0.6em 0 0 0;
    padding: 0.3em 0 0 0;
    max-height: 10em;
  }
}

@page:left {
  @bottom-center {
    content: counter(page);
    font-family: monospace;
  }

  @top-center {
    content: string(booktitle);
    color: var(--neutral-soft-color);
    font-size: .8em;
    letter-spacing: 0.8;
    text-transform: uppercase;
  }
}

@page:right {
  @bottom-center {
    content: counter(page);
    font-family: monospace;
  }

  @top-center {
    content: string(sectiontitle);
    color: var(--neutral-soft-color);
    font-size: .8em;
    letter-spacing: 0.8;
    text-transform: uppercase;
  }
}

/**
 * Page number position
 */
.page-number-position--none .pagedjs_margin-bottom-center {
  visibility: hidden;
}

.page-number-position--bottom-center .pagedjs_margin-bottom-center {
  text-align: center;
}

.page-number-position--bottom-left .pagedjs_left_page .pagedjs_margin-bottom-center,
.page-number-position--bottom-right .pagedjs_left_page .pagedjs_margin-bottom-center,
.page-number-position--bottom-sides .pagedjs_left_page .pagedjs_margin-bottom-center {
  text-align: left;
}
.page-number-position--bottom-left .pagedjs_right_page .pagedjs_margin-bottom-center,
.page-number-position--bottom-right .pagedjs_right_page .pagedjs_margin-bottom-center,
.page-number-position--bottom-sides .pagedjs_right_page .pagedjs_margin-bottom-center {
  text-align: right;
}

/**
 * Publication Cover
 */
@page publication-cover {
  background-color: var(--header-title-color) !important;
  background-size: cover;
  color: var(--header-bg-color);
  break-after: always;

  @top-center {
    content: none;
  }

  @bottom-right-corner {
    content: none;
  }
}

  .yeswiki-publication .pagedjs_named_page.pagedjs_publication-cover_page * {
    color: inherit;
  }

  .yeswiki-publication .pagedjs_publication-cover_page.has-background-image .publication-title,
  .yeswiki-publication .pagedjs_publication-cover_page.has-background-image .publication-description,
  .yeswiki-publication .pagedjs_publication-cover_page.has-background-image .publication-author {
    background-color: var(--header-title-color);
    padding: .5em 20px;
    align-self: flex-start;
  }

  .yeswiki-publication .publication-author {
    margin-top: auto;
  }

  /* empty element are hidden */
  .yeswiki-publication .pagedjs_publication-cover_page.has-background-image *:empty {
    display: none;
  }

  .yeswiki-publication .pagedjs_named_page.pagedjs_publication-cover_page .pagedjs_page_content > div {
    height: 100%;
  }

  .yeswiki-publication .publication-cover h1 {
    string-set: booktitle content(text);
  }

/**
 * Publication Section
 */
@page publication-section {
  orphans: 6;
}

  .yeswiki-publication .include h1:first-child {
    string-set: sectiontitle content(text);
  }


/* We hide a .well if it closes a page */
.yeswiki-publication .include .well:last-child {
  display: none;
}

/* Unfold panels and other collapsed content */
.yeswiki-publication .collapse {
  display: block;
}

/* Wells content is partially lost if a page break happens inside it */
.yeswiki-publication .well,
.yeswiki-publication .panel-heading,
.yeswiki-publication h1,
.yeswiki-publication h2,
.yeswiki-publication h3,
.yeswiki-publication h4,
.yeswiki-publication h5,
.yeswiki-publication h6 {
  page-break-inside: avoid;
}

.yeswiki-publication iframe,
.yeswiki-publication video,
.yeswiki-publication audio {
  break-inside: avoid;
  page-break-inside: avoid;
}

.yeswiki-publication .well,
.yeswiki-publication .panel {
  margin-top: 1em;
  orphans: 6;
}

.yeswiki-publication .panel-heading[data-toggle="collapse"]::after {
  display: none;
}

/* We cancel bootstrap column system on print */
.yeswiki-publication [class*="col-"],
.yeswiki-publication .left,
.yeswiki-publication .right {
  float: none;
}

.yeswiki-publication [class*="col-"] {
  width: auto !important;
}

/* OPTION We remove link URLs from the print */
.yeswiki-publication.hide-links-url a[href]::after{
  content: "";
}
